{% extends "layout.twig" %}

{% block title %}Catálogo{% endblock %}

{% block content %}
    <h1 class="text-center my-3">Tienda Tiendas</h1>

    <h3 class="mt-5 mb-3 text-center">Tiendas destacadas</h3>
    <div class="w-75 mx-auto">
	    <div id="sliderHighlits" class="carousel slide" data-bs-ride="carousel">
		  <div class="carousel-indicators">
		  	{% set index = 0 %}
		  	{% for article in articles %}
		  		{% if article.highlight == 1 %}
		    		<button type="button" data-bs-target="#sliderHighlits" data-bs-slide-to="{{index}}" {% if index == 0 %}class="active"{% endif %} ></button>
		  			{% set index = index+1 %}
		  		{% endif %}
		    {% endfor %}
		  </div>
		  <div class="carousel-inner bg-dark">
		  	{% set index = 0 %}
		  	{% for article in articles %}
		  		{% if article.highlight == 1 %}
				    <div class="carousel-item {% if index == 0 %}active{% endif %}">
				    	<a href="{{URL}}/articles/details/{{article.id}}">
					      <img src="{{URL}}/resources/images/{{article.picture}}" class="d-block mx-auto" height="400">
					      <div class="carousel-caption d-md-block">
					        <h5>{{article.title}}</h5>
					        <p>{{article.price}} €</p>
					      </div>
					    </a>
				    </div>
					{% set index = index+1 %}
				{% endif %}
			{% endfor %}
		  </div>
		  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
		    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
		    <span class="visually-hidden">Previous</span>
		  </button>
		  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
		    <span class="carousel-control-next-icon" aria-hidden="true"></span>
		    <span class="visually-hidden">Next</span>
		  </button>
		</div>
	</div>

	<h2 class="my-4 ps-2 text-center">Catálogo</h2>
    <div class="py-5 bg-light">
	    <div class="container">

	      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
	      	{% for article in articles %}
		        <div class="col">
		          <div class="card shadow-sm">
		            <img class="w-100" src="{{URL}}/resources/images/{{article.picture}}">

		            <div class="card-body">
		              <h5 class="card-title">{{article.title}}</h5>
		              <div class="d-flex justify-content-between align-items-center">
		                <div class="btn-group">
		                  	<a href="{{URL}}/articles/details/{{article.id}}">
		                  		<button type="button" class="btn btn-sm btn-outline-secondary">Detalles</button>
		                  	</a>
		                  	<a href="{{URL}}/cart/add/{{article.id}}">
		                  		<button type="button" class="btn btn-sm btn-outline-success">Agregar al carro</button>
		                  	</a>

		                </div>
		                <small class="text-muted">{{article.price}} €</small>
		              </div>
		            </div>
		          </div>
		        </div>
		    {% endfor %}
	      </div>
	    </div>
	</div>
{% endblock %}